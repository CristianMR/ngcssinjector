/**
 * ngCssInjector 0.2.1
 * https://github.com/CristianMR/ngcssinjector
 * (c) Cristian Martín Rios 2014 | License MIT
 * Based on angular-css-injector v1.0.4, copyright (c) 2013 Gabriel Delépine
 */
"use strict";angular.module("ngCssInjector",[]).provider("cssInjector",[function(){function e(e,r,n){var o={},i={};r.$on("$locationChangeStart",function(){t===!0&&f()});var a=function(t){var r=!1;if("object"==typeof t){if(!t.href)return;r=t,r.disabled=!1,t=t.href}if(i[t])return c(t),!1;var a=n.injectedStylesheets.push(r||{disabled:!1,href:t})-1;i[t]=n.injectedStylesheets[a];var s=e.defer();return o[t]=s,s.promise},s=function(t){for(var r=e.defer(),n=[],o=0;o<t.length;o++){var i=a(t[o]);i&&n.push(i)}return e.all(n).then(r.resolve,r.reject),r.promise},c=function(e){"object"==typeof e&&(e=e.href),i[e]&&(i[e].disabled=!1)},l=function(e){"object"==typeof e&&(e=e.href),i[e]&&(i[e].disabled=!0)},d=function(e){if(i)for(var t=0;t<e.length;t++)l(e[t])},f=function(){if(i)for(var e=0;e<i.length;e++)l(i[e])},u=function(e){if(i&&i[e]){delete i[e];for(var t=0;t<n.injectedStylesheets.length;t++)if(n.injectedStylesheets[t].href===e){n.injectedStylesheets.splice(t,1);break}}},h=function(e){for(var t=0;t<e.lenght;t++)u(e[t])},v=function(){i={},n.injectedStylesheets=[]},y=function(e){o[e]&&(o[e].resolve(),delete o[e])};return{add:a,addMany:s,disable:l,disableMany:d,disableAll:f,remove:u,removeAll:v,removeMany:h,loaded:y}}var t=!1,r=!1;this.$get=["$q","$compile","$timeout","$rootScope",function(t,n,o,i){var a=angular.element(document.getElementsByTagName("head")[0]),s=a.scope();if(void 0===s)throw"ngCssInjector error : Please initialize your app in the HTML tag and be sure your page has a HEAD tag.";return s.injectedStylesheets=[],s.orderByExpression=r,o(function(){var e=s.orderByExpression?"| orderBy:orderByExpression":"";a.append(n("<link data-ng-repeat='href in injectedStylesheets "+e+" track by href.href' data-ng-href='{{href.href}}' value='href.disabled' css-injector-callback rel='stylesheet'/>")(s))}),new e(t,i,s)}],this.setSinglePageMode=function(e){return t=e,this},this.setOrderByExpression=function(e){r=e}}]).directive("cssInjectorCallback",["cssInjector",function(e){return{scope:{value:"="},link:function(t,r,n){t.$watch("value",function(e){r[0].disabled=e}),r.bind("load",function(){e.loaded(n.href)}),r.bind("error",function(){console.error("CSS INJECTOR: CSS NOT FOUND:",n.href),e.loaded(n.href)})}}}]);