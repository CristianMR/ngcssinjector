/**
 * ngCssInjector 0.1.0
 * https://github.com/CristianMR/ngcssinjector
 * (c) Cristian Martín Rios 2014 | License MIT
 * Based on angular-css-injector v1.0.4, copyright (c) 2013 Gabriel Delépine
 */
"use strict";angular.module("ngCssInjector",[]).provider("cssInjector",[function(){function e(e,n,i){var s={};n.$on("$locationChangeStart",function(){t===!0&&d()});var r=function(t){if(i.injectedStylesheets[t])return o(t),!1;i.injectedStylesheets[t]={disabled:!1};var n=e.defer();return s[t]=n,n.promise},l=function(t){for(var n=e.defer(),i=[],s=0;s<t.length;s++){var l=r(t[s]);l&&i.push(l)}return e.all(i).then(n.resolve,n.reject),n.promise},o=function(e){i.injectedStylesheets[e]&&(i.injectedStylesheets[e].disabled=!1)},a=function(e){i.injectedStylesheets[e]&&(i.injectedStylesheets[e].disabled=!0)},c=function(e){if(i.injectedStylesheets)for(var t=0;t<e.length;t++)a(e[t])},d=function(){if(i.injectedStylesheets)for(var e=0;e<i.injectedStylesheets.length;e++)a(i.injectedStylesheets[e])},u=function(e){i.injectedStylesheets&&i.injectedStylesheets[e]&&delete i.injectedStylesheets[e]},h=function(e){for(var t=0;t<e.lenght;t++)u(e[t])},f=function(){i.injectedStylesheets={}},y=function(e){s[e]&&(s[e].resolve(),delete s[e])};return{add:r,addMany:l,disable:a,disableMany:c,disableAll:d,remove:u,removeAll:f,removeMany:h,loaded:y}}var t=!1;this.$get=["$q","$compile","$timeout","$rootScope",function(t,n,i,s){var r=angular.element(document.getElementsByTagName("head")[0]),l=r.scope();if(void 0===l)throw"ngCssInjector error : Please initialize your app in the HTML tag and be sure your page has a HEAD tag.";return l.injectedStylesheets={},i(function(){r.append(n("<link data-ng-repeat='(key,value) in injectedStylesheets' data-ng-href='{{key}}' value='value.disabled' css-injector-callback rel='stylesheet'/>")(l))}),new e(t,s,l)}],this.setSinglePageMode=function(e){return t=e,this}}]).directive("cssInjectorCallback",["cssInjector",function(e){return{scope:{value:"="},link:function(t,n,i){t.$watch("value",function(e){n[0].disabled=e}),n.bind("load",function(){e.loaded(i.href)}),n.bind("error",function(){console.error("CSS INJECTOR: CSS NOT FOUND:",i.href),e.loaded(i.href)})}}}]);