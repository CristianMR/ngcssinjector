/**
 * ngCssInjector 0.2.0
 * https://github.com/CristianMR/ngcssinjector
 * (c) Cristian Martín Rios 2014 | License MIT
 * Based on angular-css-injector v1.0.4, copyright (c) 2013 Gabriel Delépine
 */
"use strict";angular.module("ngCssInjector",[]).provider("cssInjector",[function(){function e(e,n,t){var i={},o={};n.$on("$locationChangeStart",function(){r===!0&&f()});var a=function(r){var n=!1;if("object"==typeof r){if(!r.href)return;n=r,n.disabled=!1,r=r.href}if(o[r])return l(r),!1;o[r]=n||{disabled:!1,href:r},t.injectedStylesheets.push(o[r]);var a=e.defer();return i[r]=a,a.promise},s=function(r){for(var n=e.defer(),t=[],i=0;i<r.length;i++){var o=a(r[i]);o&&t.push(o)}return e.all(t).then(n.resolve,n.reject),n.promise},l=function(e){o[e]&&(o[e].disabled=!1)},c=function(e){o[e]&&(o[e].disabled=!0)},d=function(e){if(o)for(var r=0;r<e.length;r++)c(e[r])},f=function(){if(o)for(var e=0;e<o.length;e++)c(o[e])},u=function(e){if(o&&o[e]){delete o[e];for(var r=0;r<t.injectedStylesheets.length;r++)if(t.injectedStylesheets[r].href===e){t.injectedStylesheets.splice(r,1);break}}},h=function(e){for(var r=0;r<e.lenght;r++)u(e[r])},v=function(){o={},t.injectedStylesheets=[]},p=function(e){i[e]&&(i[e].resolve(),delete i[e])};return{add:a,addMany:s,disable:c,disableMany:d,disableAll:f,remove:u,removeAll:v,removeMany:h,loaded:p}}var r=!1,n=!1;this.$get=["$q","$compile","$timeout","$rootScope",function(r,t,i,o){var a=angular.element(document.getElementsByTagName("head")[0]),s=a.scope();if(void 0===s)throw"ngCssInjector error : Please initialize your app in the HTML tag and be sure your page has a HEAD tag.";return s.injectedStylesheets=[],s.orderByExpression=n,i(function(){var e=s.orderByExpression?"| orderBy:orderByExpression":"";a.append(t("<link data-ng-repeat='href in injectedStylesheets "+e+" track by href.href' data-ng-href='{{href.href}}' value='href.disabled' css-injector-callback rel='stylesheet'/>")(s))}),new e(r,o,s)}],this.setSinglePageMode=function(e){return r=e,this},this.setOrderByExpression=function(e){n=e}}]).directive("cssInjectorCallback",["cssInjector",function(e){return{scope:{value:"="},link:function(r,n,t){r.$watch("value",function(e){n[0].disabled=e}),n.bind("load",function(){e.loaded(t.href)}),n.bind("error",function(){console.error("CSS INJECTOR: CSS NOT FOUND:",t.href),e.loaded(t.href)})}}}]);